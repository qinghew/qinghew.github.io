<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MultiShotMaster</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@600&display=block" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=block" rel="stylesheet">

<style>
    @font-face {
        font-family: 'Roboto';
        font-style: normal;
        font-stretch: 100%;
        font-display: block;
        font-weight: 300 700;
        src: url(https://cdn.seaweed-apt.com/assets/fonts/roboto.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: "Outfit", sans-serif;
        background-color: #000000;
        color: #fff;
        line-height: 1.6;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    a {
        color: #ddd;
        text-decoration: underline;
    }

    a:visited {
        color: #ddd;
    }

    /* Common text styles */
    p {
        margin-bottom: 15px;
        font-size: 20px;
        color: #ddd;
    }

    h1 {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 40px;
        margin-top: 50px;
        margin-bottom: 20px;
        font-weight: 400;
        line-height: 1.0;
    }

    .section-title {
        font-size: 40px;
        margin: 5px 0 30px;
        font-weight: 400;
        text-align: center;
    }

    .subsection-title {
        font-size: 26px;
        margin: 20px 0 30px;
        font-weight: 400;
    }

    /* Header styles */
    header {
        text-align: center;
        padding: 80px 0 50px;
    }
    
    .author, .author-a {
        font-size: 23px;
        color: #aaa;
        padding: 20px 6px 0;
        text-align: center;
        transition: color 0.3s;
        text-decoration: none;
    }

    .author:visited {
        color: #aaa;
    }

    .corresponding-author {
        padding-top: 0; 
        font-size: 20px;
    }

    .author-a:hover {
        color: #444;
    }

    .button {
        display: inline-block;
        background-color: rgba(105, 103, 103, 0.45);
        color: #fff;
        padding: 8px 16px;
        border-radius: 40px;
        font-size: 20px;
        margin: 50px 0 30px;
        transition: background-color 0.3s;
        text-decoration: none;
    }

    .button:hover {
        color: #fff;
        background-color: #444;
    }
    
    /* Media containers */
    .vimeo-container {
        border-radius: 8px;
        overflow: hidden;
        flex: 1 1 auto;
        min-height: 300px;
        width: 100%;
    }
    
    .media-grid {
        display: flex;
        gap: 20px;
        margin: 40px 0;
        align-items: stretch; 
        flex-wrap: nowrap;
    }
    
    .media-grid.wrap {
        flex-wrap: wrap;
    }
    
    .media-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
    }
    
    .media-grid .media-item {
        flex: 1 1 0;
        min-width: 0;
    }
    
    .media-grid > .media-item:only-child {
        flex: 1 0 100%;
        max-width: 100%;
    }
    
    .image-container {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        width: 100%;
    }
    
    .media-item img, 
    .media-item video {
        max-height: 100%;
        max-width: 100%;
        object-fit: contain;
        border-radius: 8px;
        display: block;
    }
    
    .media-caption {
        margin-top: 8px;
        font-size: 19px;
        color: #ddd;
        width: 100%;
    }

    .fig-caption {
        margin-top: -35px;
        margin-bottom: 0px;
        font-size: 18px;
        color: #ddd;
        width: 80%;
        justify-content: center; /* 水平居中 */
        align-items: center;     /* 垂直居中 */
    }
    
    <!-- .fig2-caption {
        margin-top: -90px;
        margin-bottom: 0px;
        font-size: 18px;
        color: #ddd;
        width: 75%;
    } -->

    /* Flex column grid */
    .flex-column-grid {
        display: flex;
        gap: 20px;
        margin: 40px 0;
        width: 100%;
    }

    .column {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .column .image-container {
        width: 100%;
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        background-color: #0f1112;
    }

    .column video, 
    .column img {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 8px;
    }

    .column .media-caption {
        margin-top: 10px;
    }

    /* Video player styles */
    .video-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
        width: 100%;
        border-radius: 8px;
        margin-bottom: 15px;
    }
    
    .video-player-section {
        width: 100%;
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        background-color: #000;
    }

    .video-player-section video {
        width: 100%;
        display: block;
        border-radius: 8px;
    }
    
    .vimeo-embed {
        position: relative;
        width: 100%;
        border-radius: 8px;
        overflow: hidden;
    }
    
    .video-controls {
        position: relative;
        margin-top: -10px;
        z-index: 999;
    }

    .version-toggle-btn {
        background-color: rgba(105, 103, 103, 0.45);
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
        margin: 0 5px;
    }

    .version-toggle-btn:hover {
        background-color: #444;
    }

    .version-toggle-btn.active {
        background-color: #666;
    }

    .video-timeline {
        position: relative;
        height: 6px;
        width: 100%;
        background-color: rgba(255, 255, 255, 0.2);
        cursor: pointer;
        border-radius: 3px;
    }
    
    .video-progress {
        position: absolute;
        height: 100%;
        width: 0%;
        background-color: #fff;
        border-radius: 3px;
        transition: width 0.1s ease;
    }
    
    .video-time {
        color: #fff;
        font-size: 16px;
        margin-top: 4px;
        text-align: right;
    }

    

    .video-class-label {
        width: 25px; 
        
        font-size: 18px;
        color: #d4a845;
        font-family: Cavolini;
        vertical-align: middle; 
        text-align: center;
        
        writing-mode: vertical-lr;
        
    }
    
    /* Scenes list styles */
    .scenes-list {
        width: 100%;
        height: 90px;
        overflow-x: auto;
        overflow-y: hidden;
        background-color: rgba(30, 30, 30, 0.9);
        border-radius: 8px;
        display: flex;
        flex-direction: row;
        margin-top: -10px;
        padding: 5px;
    }

    .scene-item {
        display: flex;
        flex-direction: column;
        padding: 5px;
        border-right: 1px solid #2c3237;
        cursor: pointer;
        transition: background-color 0.2s;
        min-width: 100px;
        max-width: 100px;
        border-radius: 4px;
        margin: 0 2px;
        align-items: flex-start;
        justify-content: flex-start;
    }

    .scene-item:hover,
    .scene-item.active {
        background-color: #2c3237;
    }

    .scene-thumbnail {
        width: auto;
        display: inline-block;
        margin: 0 0 4px 0;
        border-radius: 4px;
        overflow: hidden;
        background-color: #0f1112;
        text-align: left;
    }

    .scene-thumbnail img {
        border-radius: 0;
        display: block;
        width: auto;
        height: auto;
        max-width: 60px;
        object-fit: contain;
    }

    .scene-info {
        width: 100%;
        text-align: left;
    }
        
    .scene-title,
    .scene-description {
        font-size: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .scene-description {
        color: #a0a0a0;
    }
    
    /* Scrollbar customization */
    .scenes-list::-webkit-scrollbar {
        height: 6px;
    }
    
    .scenes-list::-webkit-scrollbar-track {
        background: #1a1e21;
        border-radius: 3px;
    }
    
    .scenes-list::-webkit-scrollbar-thumb {
        background-color: #2c3237;
        border-radius: 3px;
    }
    
    .scenes-list::-webkit-scrollbar-thumb:hover {
        background-color: #3f454a;
    }
    
    /* Composable layout */
    .composable-layout {
        display: flex;
        gap: 20px;
        margin: 40px 0;
        align-items: flex-start;
    }
    
    .composable-inputs {
        width: 50%;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .composable-input-item {
        width: 100%;
    }
    
    .composable-input-item .image-container,
    .composable-output .image-container {
        width: 100%;
        background-color: #14556e;
        border-radius: 8px;
        overflow: hidden;
    }
    
    .composable-input-item img,
    .composable-input-item video,
    .composable-output video {
        display: block;
        width: 100%;
        height: auto;
    }

    .composable-output {
        width: 70%;
    }

    .composable-figure {
        width: 70%;
    }

    .page-container {
        width: 1200px;
        min-height: 1000px;
        margin: 0 auto; /* top and bottom, right and left */
        text-align: left; /* top, right, bottom, left */
        padding-top: 0em;
        padding-left: 1em;
        padding-right: 1em;
        padding-bottom: 1em;
    }

    /* Carousel styles */
    .carousel-container {
        position: relative;
        overflow: hidden; 
        margin: 40px 0;
        min-height: 400px;
        padding-bottom: 30px;
    }

    .carousel-wrapper {
        display: flex;
    }

    .carousel-item {
        flex: 0 0 100%;
        max-width: 100%;
        padding: 0 10px;
        box-sizing: border-box;
        text-align: center;
    }

    .carousel-nav {
        position: absolute;
        top: 50%;
        width: 100%;
        display: flex;
        justify-content: space-between;
        transform: translateY(-50%);
        pointer-events: none;
        z-index: 10;
    }

    .nav-arrow {
        background: rgba(0, 0, 0, 0.5);
        color: #fff;
        border: none;
        padding: 10px 15px;
        cursor: pointer;
        font-size: 24px;
        border-radius: 50%;
        line-height: 1;
        opacity: 0.8;
        transition: opacity 0.2s, background-color 0.2s;
        pointer-events: auto; 
        user-select: none;
        margin: 0 10px;
    }

    .nav-arrow:hover {
        opacity: 1;
        background: rgba(68, 68, 68, 0.7);
    }

    .nav-arrow:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    .carousel-item > div {
        margin: 10px 0; 
    }

    .carousel-item img, 
    .carousel-item video {
        display: block; 
        margin: 0 auto; 
        border-radius: 8px;
        height: auto; 
    }

    .carousel-item img {
        width: 60%;
        max-width: 672px;
        height: auto; 
        max-height: 600px;
    }

    .carousel-item video {
        width: 40%;
        max-width: 672px;
        height: auto; 
        max-height: 600px; 
    }

    .carousel-dots {
        position: absolute;
        bottom: 20px; 
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px; 
        z-index: 10; 
        pointer-events: none; 
    }

    .dot {
        width: 12px;
        height: 12px;
        background-color: rgba(255, 255, 255, 0.3); 
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.3s ease;
        pointer-events: auto; 
    }

    .dot:hover {
        background-color: rgba(255, 255, 255, 0.6);
    }

    .dot.active {
        background-color: #fff; 
        transform: scale(1.2); 
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
        h1 {
            font-size: 32px;
        }
        
        p {
            font-size: 16px;
        }

        .section-title {
            font-size: 40px;
            margin: 60px 0 20px;
        }
        
        .author, .author-a {
            font-size: 16px;
        }
        
        .corresponding-author {
            font-size: 14px;
        }
        
        .button {
            font-size: 14px;
            padding: 6px 14px;
        }
        
        .media-grid {
            flex-direction: column;
        }
        
        .media-grid .media-item {
            flex: 1 0 100%;
            max-width: 100%;
        }
        
        .image-container {
            height: auto;
            max-height: 360px;
            width: 100%;
        }
        
        .flex-column-grid {
            flex-direction: column;
        }
        
        .column {
            width: 100%;
            margin-bottom: 20px;
        }

        .composable-figure {
            width: 100%;
        }

        .composable-layout {
            flex-direction: column;
        }
        
        .composable-inputs {
            width: 100%;
            flex-direction: row;
        }
        
        .composable-input-item {
            width: 50%;
        }
        
        .composable-output {
            width: 100%;
            margin-top: 20px;
        }
        
        .scene-item {
            min-width: 120px;
            max-width: 120px;
        }
        
        .scene-thumbnail {
            width: 100px;
            height: 55px;
        }
    }
    
    @media (max-width: 480px) {
        h1 {
            font-size: 24px;
            margin-top: 30px;
        }
        
        .author, .author-a {
            padding: 15px 2px 0;
            font-size: 14px;
        }
        
        .corresponding-author {
            font-size: 12px;
        }
        
        .button {
            font-size: 12px;
        }

        p {
            font-size: 15px;
        }
        
        .section-title {
            font-size: 40px;
            margin: 40px 0 15px;
        }
        
        .media-caption {
            font-size: 14px;
        }
        
        header {
            padding: 60px 0 30px;
        }
        
        .scene-item {
            min-width: 100px;
            max-width: 100px;
        }
        
        .scene-thumbnail {
            width: 80px;
            height: 45px;
        }
        
        .composable-figure {
            width: 100%;
        }

        .composable-inputs {
            flex-direction: column;
        }
        
        .composable-input-item {
            width: 100%;
        }
    }
</style>
</head>
<body>
    <div class="container">
        <header>
            <img src="static/logo.png" style="height:165px"></img>
            <h1 style="margin-top: 10px; font-size: 43px; font-family: 'Comic Sans MS';">A Controllable Multi-Shot Video Generation Framework</h1>
            <div style="margin-top: 20px;">
                <div>
                    <a class="author-a" href="https://qinghew.github.io/" target="_blank" rel="noopener noreferrer">Qinghe Wang<sup>1</sup></a>
                    <a class="author-a" href="https://xiaoyushi97.github.io/" target="_blank" rel="noopener noreferrer">Xiaoyu Shi<sup>2&#9993</sup></a>
                    <a class="author-a" href="https://libaolu312.github.io/" target="_blank" rel="noopener noreferrer">Baolu Li<sup>1</sup></a>                    
                    <a class="author-a" href="https://wkbian.github.io/" target="_blank" rel="noopener noreferrer">Weikang Bian<sup>3</sup></a>
                    <a class="author-a" href="https://liuquande.github.io/" target="_blank" rel="noopener noreferrer">Quande Liu<sup>2</sup></a>                    
                    <a class="author-a" href="https://scholar.google.com/citations?user=D3nE0agAAAAJ&hl=zh-CN&oi=ao" target="_blank" rel="noopener noreferrer">Huchuan Lu<sup>1</sup></a><br>                    
                    <a class="author-a" href="https://xinntao.github.io/" target="_blank" rel="noopener noreferrer">Xintao Wang<sup>2</sup></a>
                    <a class="author-a" href="https://magicwpf.github.io/" target="_blank" rel="noopener noreferrer">Pengfei Wan<sup>2</sup></a>
                    <a class="author-a" href="https://scholar.google.com/citations?user=PXO4ygEAAAAJ&hl=zh-CN" target="_blank" rel="noopener noreferrer">Kun Gai<sup>2</sup></a>
                    <a class="author-a" href="https://stephenjia.github.io/" target="_blank" rel="noopener noreferrer">Xu Jia<sup>1&#9993</sup></a>
                </div>
                <div>
                    <span class="author"><sup>1</sup>Dalian University of Technology</span>
                    <span class="author"><sup>2</sup>Kling Team, Kuaishou Technology</span>
                    <span class="author"><sup>3</sup>The Chinese University of Hong Kong</span>
                </div>
                <!-- <div class="author corresponding-author"><sup>&#10013;</sup>Corresponding Author</div> -->
                <!-- <div class="author corresponding-author"><sup>†</sup>Corresponding Author</div> -->
                <span class="author corresponding-author"><sup>&#9993;&#160;</sup>Corresponding Author&#160;&#160;</span>
            </div>
            <a style="margin-top: 20px;" href="https://arxiv.org/abs/2512.03041" target="_blank" class="button">Paper</a>&emsp;
            <a style="margin-top: 20px;"  target="_blank" class="button">Code (working)</a>
            <!-- href="https://github.com/KlingTeam/MultiShotMaster" -->
        </header>
        <!-- <div class="media-grid">
            <div class="media-item">
                <div class="image-container">
                    <div class="video-container">
                        <div class="video-player-section">
                            <video id="sceneVideoPlayer" autoplay muted playsinline controls preload="auto"
                                   src="xxxx_Demo.mp4"
                                   type="video/mp4"></video>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->

        <div class="section-title">Abstract</div>
        <p>
            Current video generation techniques excel at single-shot clips but struggle to produce narrative multi-shot videos, which require flexible shot arrangement, coherent narrative, and controllability beyond text prompts. To tackle these challenges, we propose MultiShotMaster, a framework for highly controllable multi-shot video generation. We extend a pretrained single-shot model by integrating two novel variants of RoPE. First, we introduce Multi-Shot Narrative RoPE, which applies explicit phase shift at shot transitions, enabling flexible shot arrangement while preserving the temporal narrative order. Second, we design Spatiotemporal Position-Aware RoPE to incorporate reference tokens and grounding signals, enabling spatiotemporal-grounded reference injection. In addition, to overcome data scarcity, we establish an automated data annotation pipeline to extract multi-shot videos, captions, cross-shot grounding signals and reference images. Our framework leverages the intrinsic architectural properties to support multi-shot video generation, featuring text-driven inter-shot consistency, customized subject with motion control, and background-driven customized scene. Both shot count and duration are flexibly configurable. Extensive experiments demonstrate the superior performance and outstanding controllability of our framework.
        </p>

        <br>
        <br>  
        <br>
        
        <div class="section-title"> Video Gallery</div>
        <div class="subsection-title"> Multi-Shot Text-to-Video Generation</div>
            <div class="carousel-container">
                <div class="carousel-wrapper" id="carouselWrapper-1"> 
                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/0.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>
                
                    
                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/1.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/2.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/3.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/4.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/5.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/6.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/7.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/8.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/9.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/10.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/11.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/12.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/13.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/14.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                                        
                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/15.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>


                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/16.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/17.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/18.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/19.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/20.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/21.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/22.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>
                    
                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/23.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-video">
                            <video src="assets/text/24.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>                    
                </div> 
                <div class="media-grid">
                    <div class="media-item">
                        <div class="fig-caption">We convert the user-provided <u>shot arrangement</u> (e.g., [[0, 37], [37, 62], ..., [start_frame_idx, end_frame_idx]]), and <u>hierarchical captions</u> into <u>caption videos</u> (the lower part of the video) to visualize the <b>controllable shot transitions</b>. The Story represents the global caption. [Shot N_i] indicates that the currently-playing shot is the i-th shot of N shots.
                        </div>
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="nav-arrow" id="prevBtn-1">&#10094;</button> 
                    <button class="nav-arrow" id="nextBtn-1">&#10095;</button> 
                </div>
            </div>


        <br>

        <div class="subsection-title">Multi-Shot & Multi-Reference Video Generation</div>
            <div class="carousel-container">
                <div class="carousel-wrapper" id="carouselWrapper-2"> 

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/2/img.jpg" style="width: 50%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/2/2_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/2/2_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/2/2_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>          

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/5/img.jpg" style="width: 100%; max-width: 900px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/5/5_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/5/5_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/5/5_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>          

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/7/img.jpg" style="width: 90%; max-width: 1100px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/7/7_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/7/7_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/7/7_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>                 
          
                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/12/img.jpg" style="width: 25%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/12/12_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/12/12_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/12/12_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>
                   

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/1/img.jpg" style="width: 90%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video src="assets/references/1/1_video_compressed.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;"></video>
                        </div>
                    </div>
                    
                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/6/img.jpg" style="width: 30%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/6/6_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/6/6_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/6/6_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/4/img.jpg" style="width: 30%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/4/4_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/4/4_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/4/4_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>                                 

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/8/img.jpg" style="width: 90%; max-width: 1000px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/8/8_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/8/8_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/8/8_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>


                    
                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/9/img.jpg" style="width: 21%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/9/9_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/9/9_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/9/9_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/10/img.jpg" style="width: 25%; max-width: 672px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/10/10_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/10/10_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/10/10_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/11/img.jpg" style="width: 100%; max-width: 1000px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/11/11_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/11/11_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/11/11_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="carousel-item">
                        <div class="result-condition">
                            <img src="assets/references/3/img.jpg" style="width: 100%; max-width: 1100px;" alt="Condition Image 1"/>
                        </div>
                        <div class="result-video">
                            <video id="video-bbox-demo" 
                                src="assets/references/3/3_video_compressed_with_bbox.mp4"
                                autoplay controls muted style="width: 100%; max-width: 672px;">
                            </video>
                            <div class="video-controls" style="margin-top: 10px; text-align: center;">
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/3/3_video_compressed_with_bbox.mp4"
                                        class="version-toggle-btn" style="margin-right: 10px; vertical-align: middle;">
                                    Visualization with the input <br>sparse bbox sequences
                                </button>
                                <button data-video-id="video-bbox-demo" data-video-src="assets/references/3/3_video_compressed.mp4"
                                        class="version-toggle-btn"
                                        style="vertical-align: middle;">
                                    Clean version
                                </button>
                            </div>
                        </div>
                    </div>             


                </div>
                <div class="media-grid">
                    <div class="media-item">
                        <div class="fig-caption">We visualize the input <u>sparse bounding box sequences</u> on the generated videos to show the effect of <b>Spatiotemporal-Grounded Reference Injection</b>. Clean version does not show the bbox sequences for better visual experience. The background image is injected to the first frame of the corresponding shot as default.
                        </div>
                    </div>
                </div>            
                <div class="carousel-nav">
                    <button class="nav-arrow" id="prevBtn-2">&#10094;</button> 
                    <button class="nav-arrow" id="nextBtn-2">&#10095;</button> 
                </div>
            </div>




        <br>
        <br>
        <br>

        <div class="section-title">How Does it Work?</div>
        <div class="subsection-title"> Architecture of MultiShotMaster</div>
        <div class="media-grid">
            <div class="media-item">
                <img src="assets/framework.png" alt="Architecture diagram">
                <div class="media-caption">MultiShotMaster is a framework for highly controllable multi-shot video generation. We extend a pretrained single-shot T2V model by two key RoPE variants: Multi-Shot Narrative RoPE for flexible shot arrangement with temporal narrative order, and Spatiotemporal Position-Aware RoPE for grounded reference injection. To manage in-context information flows, we design a Multi-Shot & Multi-Reference Attention Mask. We finetune temporal attention, cross attention and FFN, leveraging the intrinsic architectural properties to achieve flexible and controllable multi-shot video generation.</div>
            </div>
        </div>

        <br>

        <div class="subsection-title">Multi-Shot & Multi-Reference Data Curation</div>
        <div class="media-grid">
            <div class="media-item">
                <img src="assets/data_pipeline.png" alt="Architecture diagram">
                <div class="media-caption">We employ a shot transition detection model to cut the collected long videos into short clips, use a scene segmentation model to cluster clips within the same scene, and then sample multi-shot videos. Then we introduce a hierarchical caption structure and use Gemini-2.5 in a two-stage process to produce global caption and per-shot captions. Moreover, we integrate YOLOv11, ByteTrack and SAM to detect, track and segment subject images. Then we use Gemini-2.5 to merge the per-shot tracking results by subject appearance. In addition, we obtain clean backgrounds by using OmniEraser.</div>
            </div>
        </div>

    
        <script>
            function bindButtonEvents(element) {
                const buttons = element.querySelectorAll('.version-toggle-btn');
                buttons.forEach(button => {
                    button.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Button click detected');
                        
                        const videoId = this.getAttribute('data-video-id');
                        const videoSrc = this.getAttribute('data-video-src');
                        
                        // 在当前元素内查找视频
                        const video = element.querySelector(`#${videoId}`);
                        if (video) {
                            video.src = videoSrc;
                            video.load();
                            
                            video.addEventListener('loadeddata', function() {
                                video.currentTime = 0; // 从头开始播放
                                video.play();
                            }, { once: true });
                            
                            // 更新按钮状态
                            const buttons = element.querySelectorAll('.version-toggle-btn');
                            buttons.forEach(btn => {
                                btn.classList.remove('active');
                                if (btn.getAttribute('data-video-src') === videoSrc) {
                                    btn.classList.add('active');
                                }
                            });
                        }
                    });
                });
            }
             function initializeCarousel(wrapperId, prevBtnId, nextBtnId) {
                const carouselWrapper = document.getElementById(wrapperId);
                const prevBtn = document.getElementById(prevBtnId);
                const nextBtn = document.getElementById(nextBtnId);
                
                if (!carouselWrapper || !prevBtn || !nextBtn) return;

                const carouselContainer = carouselWrapper.parentElement;


                const originalItems = carouselWrapper.querySelectorAll('.carousel-item');
                const totalOriginal = originalItems.length;

                if (totalOriginal <= 1) {
                    prevBtn.disabled = true;
                    nextBtn.disabled = true;
                    return;
                }

                let dotsContainer = carouselContainer.querySelector('.carousel-dots');
                if (dotsContainer) {
                    dotsContainer.remove(); 
                }
                
                dotsContainer = document.createElement('div');
                dotsContainer.className = 'carousel-dots';
                
                const dots = [];
                
                for (let i = 0; i < totalOriginal; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'dot';

                    dot.addEventListener('click', () => {
                        if (isTransitioning) return;
                        isTransitioning = true;

                        moveTo(i + 1); 
                    });
                    dotsContainer.appendChild(dot);
                    dots.push(dot);
                }
                
                carouselContainer.appendChild(dotsContainer);


                const firstClone = originalItems[0].cloneNode(true);
                const lastClone = originalItems[totalOriginal - 1].cloneNode(true);

                // 重新绑定克隆元素中的按钮事件
                bindButtonEvents(firstClone);
                bindButtonEvents(lastClone);

                carouselWrapper.appendChild(firstClone);
                carouselWrapper.insertBefore(lastClone, originalItems[0]);

                const allItems = carouselWrapper.querySelectorAll('.carousel-item');
                

                let currentIndex = 1;
                let isTransitioning = false;


                carouselWrapper.style.transform = `translateX(${-currentIndex * 100}%)`;
                updateDots(currentIndex);

                function updateDots(index) {

                    dots.forEach(dot => dot.classList.remove('active'));
                    

                    let dotIndex = 0;
                    
                    if (index === 0) {

                        dotIndex = totalOriginal - 1;
                    } else if (index === totalOriginal + 1) {

                        dotIndex = 0;
                    } else {

                        dotIndex = index - 1;
                    }
                    

                    if (dots[dotIndex]) {
                        dots[dotIndex].classList.add('active');
                    }
                }

                function moveTo(index, enableTransition = true) {
                    if (enableTransition) {
                        carouselWrapper.style.transition = 'transform 0.3s ease-in-out';
                    } else {
                        carouselWrapper.style.transition = 'none';
                    }
                    carouselWrapper.style.transform = `translateX(${-index * 100}%)`;
                    currentIndex = index;
                    
                    updateDots(index);
                    
                    // 添加视频重置逻辑
                    resetVideosInCurrentItem();
                }

                // 新增函数：重置当前项中的视频
                function resetVideosInCurrentItem() {
                    const currentItem = allItems[currentIndex];
                    if (currentItem) {
                        const videos = currentItem.querySelectorAll('video');
                        videos.forEach(video => {
                            video.currentTime = 0; // 重置到开头
                            if (video.autoplay) {
                                video.play(); // 如果有autoplay属性，重新播放
                            }
                        });
                    }
                }

                nextBtn.addEventListener('click', () => {
                    if (isTransitioning) return;
                    if (currentIndex >= allItems.length - 1) return;

                    isTransitioning = true;
                    moveTo(currentIndex + 1);
                });

                prevBtn.addEventListener('click', () => {
                    if (isTransitioning) return;
                    if (currentIndex <= 0) return;

                    isTransitioning = true;
                    moveTo(currentIndex - 1);
                });

                carouselWrapper.addEventListener('transitionend', () => {
                    isTransitioning = false;


                    if (allItems[currentIndex] === firstClone) {
                        moveTo(1, false); 
                    }
                    if (allItems[currentIndex] === lastClone) {
                        moveTo(totalOriginal, false);
                    }
                });
                

                prevBtn.disabled = false;
                nextBtn.disabled = false;
            }
            
            
            document.addEventListener('DOMContentLoaded', function() {

                const videoPlayer = document.getElementById('sceneVideoPlayer');
                const videoProgress = document.querySelector('.video-progress');
                const videoTimeline = document.querySelector('.video-timeline');
                const videoTime = document.querySelector('.video-time');
                const sceneItems = document.querySelectorAll('.scene-item');
                const scenesList = document.querySelector('.scenes-list');
                
                let videoDuration = 0;
            
                
                initializeCarousel('carouselWrapper-1', 'prevBtn-1', 'nextBtn-1');
                initializeCarousel('carouselWrapper-2', 'prevBtn-2', 'nextBtn-2');
            
                
                
                videoPlayer.addEventListener('loadedmetadata', function() {
                    videoDuration = videoPlayer.duration;
                    updateTimeDisplay(0, videoDuration);
                });
                

                sceneItems.forEach(item => {
                    item.addEventListener('click', function() {
                        const jumpTime = parseFloat(this.getAttribute('data-time'));
                        videoPlayer.currentTime = jumpTime;
                        videoPlayer.play();
                        

                        sceneItems.forEach(scene => {
                            scene.classList.remove('active');
                        });
                        
                        this.classList.add('active');
            

                        const itemRect = this.getBoundingClientRect();
                        const listRect = scenesList.getBoundingClientRect();
                        
                        if (itemRect.left < listRect.left || itemRect.right > listRect.right) {
                            const scrollLeft = this.offsetLeft - (listRect.width - itemRect.width) / 2;
                            scenesList.scrollTo({
                                left: scrollLeft,
                                behavior: 'smooth'
                            });
                        }
                    });
                });
                

                videoPlayer.addEventListener('timeupdate', function() {
                    const currentTime = videoPlayer.currentTime;
                    const progressPercent = (currentTime / videoDuration) * 100;
                    
                    videoProgress.style.width = `${progressPercent}%`;
                    updateTimeDisplay(currentTime, videoDuration);
                    
                    updateActiveScene(currentTime);
                });
                

                videoTimeline.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const position = (e.clientX - rect.left) / rect.width;
                    const seekTime = position * videoDuration;
                    
                    videoPlayer.currentTime = seekTime;
                    videoPlayer.play();
                });
                

                function formatTime(seconds) {
                    const minutes = Math.floor(seconds / 60);
                    const remainingSeconds = Math.floor(seconds % 60);
                    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
                }
                

                function updateTimeDisplay(currentTime, duration) {
                    videoTime.textContent = `${formatTime(currentTime)} / ${formatTime(duration)}`;
                }
                

                function updateActiveScene(currentTime) {
                    let activeSceneFound = false;
                    
                    sceneItems.forEach((item, index) => {
                        const itemTime = parseFloat(item.getAttribute('data-time'));
                        const nextItemTime = index < sceneItems.length - 1 
                            ? parseFloat(sceneItems[index + 1].getAttribute('data-time')) 
                            : videoDuration;
                        
                        if (currentTime >= itemTime && currentTime < nextItemTime) {
                            item.classList.add('active');
                            activeSceneFound = true;
                            
                            const itemRect = item.getBoundingClientRect();
                            const listRect = scenesList.getBoundingClientRect();
                            
                            if (itemRect.left < listRect.left || itemRect.right > listRect.right) {
                                const scrollLeft = item.offsetLeft - (listRect.width - itemRect.width) / 2;
                                scenesList.scrollTo({
                                    left: scrollLeft,
                                    behavior: 'smooth'
                                });
                            }
                        } else {
                            item.classList.remove('active');
                        }
                    });
                    
                    if (!activeSceneFound && sceneItems.length > 0) {
                        sceneItems[0].classList.add('active');
                    }
                }
            });
        </script>
</body>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 使用事件委托来处理动态内容中的按钮
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('version-toggle-btn')) {
            e.preventDefault();
            console.log('Button click detected');
            
            const videoId = e.target.getAttribute('data-video-id');
            const videoSrc = e.target.getAttribute('data-video-src');
            setVideoVersion(videoId, videoSrc);
        }
    });
});
function setVideoVersion(videoId, videoSrc) {
    console.log('Setting video:', videoId, videoSrc);
    
    // 查找当前可见的轮播项中的视频元素
    const carouselWrapper = document.getElementById('carouselWrapper-2');
    const currentTransform = carouselWrapper.style.transform;
    const translateX = currentTransform.match(/translateX\((-?\d+(?:\.\d+)?)%\)/);
    const currentIndex = translateX ? Math.abs(parseFloat(translateX[1]) / 100) : 0;
    
    const allItems = carouselWrapper.querySelectorAll('.carousel-item');
    const currentItem = allItems[Math.round(currentIndex)];
    
    if (currentItem) {
        const video = currentItem.querySelector(`#${videoId}`);
        if (video) {
            video.src = videoSrc;
            video.load();
            
            video.addEventListener('loadeddata', function() {
                video.currentTime = 0; // 从头开始播放
                video.play();
            }, { once: true });
            
            // 更新按钮状态
            const buttons = currentItem.querySelectorAll('.version-toggle-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-video-src') === videoSrc) {
                    btn.classList.add('active');
                }
            });
        } else {
            console.error('Video element not found in current item:', videoId);
        }
    }
}
</script>
</html>